{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\thane\\\\Desktop\\\\WINTER 2025\\\\SOEN 487\\\\Assignments\\\\A1.2\\\\frontend-react\\\\src\\\\components\\\\AddStudentForm.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport { useMutation, gql } from \"@apollo/client\";\nimport { useQuery } from \"@apollo/client\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst GET_DEPARTMENTS = gql`\nquery {\ndepartments{\nid\nname\n    }\n}\n`;\nconst ADD_STUDENT = gql`\nmutation AddStudent($firstName: String!, $lastName:String!, $address:String!, $studentId:String!, $departmentId:ID!) {\naddStudent(firstName: $firstName, lastName: $lastName, address: $address, studentId:$studentId, departmentId: $departmentId) {\n      id\n      first_name\n      last_name\n    }   \n}\n`;\nconst AddStudentForm = () => {\n  _s();\n  const {\n    loading,\n    error,\n    data\n  } = useQuery(GET_DEPARTMENTS);\n  const [form, setForm] = useState({\n    firstName: \"\",\n    lastName: \"\",\n    address: \"\",\n    studentId: \"\",\n    departmentId: \"\"\n  });\n  const [addStudent] = useMutation(ADD_STUDENT);\n  const handleSubmit = e => {\n    e.preventDefault();\n    addStudent({\n      variables: form\n    });\n  };\n  if (loading) return /*#__PURE__*/_jsxDEV(\"p\", {\n    children: \"Loading departments...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 21\n  }, this);\n  if (error) return /*#__PURE__*/_jsxDEV(\"p\", {\n    children: \"Error loading departments\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 19\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: handleSubmit,\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      placeholder: \"First name\",\n      onChange: e => setForm({\n        ...form,\n        firstName: e.target.value\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      placeholder: \"Last name\",\n      onChange: e => setForm({\n        ...form,\n        lastName: e.target.value\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      placeholder: \"Address\",\n      onChange: e => setForm({\n        ...form,\n        address: e.target.value\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      placeholder: \"Student ID\",\n      onChange: e => setForm({\n        ...form,\n        studentId: e.target.value\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n      onChange: e => setForm({\n        ...form,\n        departmentId: e.target.value\n      }),\n      children: [/*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"\",\n        children: \"Department\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }, this), data.departments.map(dept => /*#__PURE__*/_jsxDEV(\"option\", {\n        value: dept.id,\n        children: dept.name\n      }, dept.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 13\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"submit\",\n      children: \"Add student\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 5\n  }, this);\n};\n_s(AddStudentForm, \"yZKnVoTh6I3iY7GhoJpJ7j4xTRo=\", false, function () {\n  return [useQuery, useMutation];\n});\n_c = AddStudentForm;\nexport default AddStudentForm;\nvar _c;\n$RefreshReg$(_c, \"AddStudentForm\");","map":{"version":3,"names":["React","useState","useMutation","gql","useQuery","jsxDEV","_jsxDEV","GET_DEPARTMENTS","ADD_STUDENT","AddStudentForm","_s","loading","error","data","form","setForm","firstName","lastName","address","studentId","departmentId","addStudent","handleSubmit","e","preventDefault","variables","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","type","placeholder","onChange","target","value","departments","map","dept","id","name","_c","$RefreshReg$"],"sources":["C:/Users/thane/Desktop/WINTER 2025/SOEN 487/Assignments/A1.2/frontend-react/src/components/AddStudentForm.js"],"sourcesContent":["import React, {useState} from \"react\";\r\nimport {useMutation, gql} from \"@apollo/client\";\r\nimport {useQuery} from \"@apollo/client\";\r\n\r\nconst GET_DEPARTMENTS=gql `\r\nquery {\r\ndepartments{\r\nid\r\nname\r\n    }\r\n}\r\n`;\r\n\r\nconst ADD_STUDENT = gql `\r\nmutation AddStudent($firstName: String!, $lastName:String!, $address:String!, $studentId:String!, $departmentId:ID!) {\r\naddStudent(firstName: $firstName, lastName: $lastName, address: $address, studentId:$studentId, departmentId: $departmentId) {\r\n      id\r\n      first_name\r\n      last_name\r\n    }   \r\n}\r\n`;\r\n\r\nconst AddStudentForm=()=>{\r\nconst {loading, error, data} = useQuery(GET_DEPARTMENTS);\r\nconst [form, setForm]=useState({firstName:\"\",lastName:\"\", address:\"\", studentId:\"\", departmentId:\"\"});\r\nconst [addStudent]=useMutation(ADD_STUDENT);\r\n\r\nconst handleSubmit=(e)=>{\r\ne.preventDefault();\r\naddStudent({variables:form});\r\n};\r\n\r\nif (loading) return <p>Loading departments...</p>;\r\nif (error) return <p>Error loading departments</p>;\r\n\r\nreturn(\r\n    <form onSubmit={handleSubmit}>\r\n        <input type=\"text\" placeholder=\"First name\" onChange={(e)=>setForm({...form, firstName:e.target.value})}/>\r\n        <input type=\"text\" placeholder=\"Last name\" onChange={(e)=>setForm({...form, lastName:e.target.value })}/>\r\n        <input type=\"text\" placeholder=\"Address\" onChange={(e)=>setForm({...form, address:e.target.value})}/>\r\n        <input type=\"text\" placeholder=\"Student ID\" onChange={(e)=>setForm({...form, studentId:e.target.value})}/>\r\n       \r\n        {/*Independent Department Selection */}\r\n        <select onChange={(e)=>setForm({...form, departmentId:e.target.value})}>\r\n        <option value=\"\">Department</option>\r\n        {data.departments.map((dept)=>(\r\n            <option key={dept.id} value={dept.id}>\r\n                {dept.name}\r\n            </option>\r\n\r\n\r\n\r\n        ))}\r\n        </select>\r\n\r\n        <button type=\"submit\">Add student</button>\r\n    </form>\r\n);\r\n};\r\n\r\nexport default AddStudentForm;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}